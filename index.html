<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Love untuk Kamu</title>

  <!-- Gaya sederhana agar tombol heart terlihat & bisa diklik -->
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: "Poppins", sans-serif;
      background: #fff0f6;
      overflow: hidden;
    }

    /* Tombol hati */    
    .heart {
      width: 100px;
      height: 90px;
      position: relative;
      background: #ff4f81;
      transform: rotate(-45deg);
      cursor: pointer;
      transition: transform 0.15s ease;
    }
    .heart::before,
    .heart::after {
      content: "";
      width: 100px;
      height: 90px;
      background: #ff4f81;
      position: absolute;
      border-radius: 50%;
    }
    .heart::before { top: -50px; left: 0; }
    .heart::after  { left: 50px; top: 0; }

    /* Efek ‚Äúpump‚Äù */
    .pump { transform: rotate(-45deg) scale(1.15); }

    /* Teks instruksi */
    #instruction-text {
      margin-top: 24px;
      font-size: 1.5rem;
      opacity: 1;
      transition: opacity 0.3s ease;
    }
    #instruction-text.hide { opacity: 0; }

    /* Cahaya pink sekejap */
    .pink-flash {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(255, 111, 145, 0.3);
      animation: flash-out 0.8s forwards;
      pointer-events: none;
    }
    @keyframes flash-out {
      from { opacity: 1; }
      to   { opacity: 0; }
    }

    /* Hati kecil jatuh */
    .falling-heart {
      position: fixed;
      width: 14px;
      height: 12px;
      transform: rotate(-45deg);
      border-radius: 0 50% 50% 50%;
      animation: fall linear forwards;
    }
    .falling-heart::before,
    .falling-heart::after {
      content: "";
      position: absolute;
      width: 14px;
      height: 12px;
      border-radius: 50%;
    }
    .falling-heart::before { top: -7px; left: 0; }
    .falling-heart::after  { top: 0; left: 7px; }
    @keyframes fall {
      to { transform: translateY(100vh) rotate(-45deg); opacity: 0; }
    }
  </style>
</head>
<body>
  <div class="heart" onclick="dropLove()"></div>
  <div id="instruction-text">Pencet lovenya üíò</div>
  <div class="footer-text">By GALIH</div>
  <script>
    let firstClickDone = false;
    let hideTimeout = null;

    function dropLove() {
      const heart = document.querySelector('.heart');
      heart.classList.add('pump');
      setTimeout(() => heart.classList.remove('pump'), 300);

      /* Cahaya pink sekejap */
      const flash = document.createElement('div');
      flash.className = 'pink-flash';
      document.body.appendChild(flash);
      setTimeout(() => flash.remove(), 800);

      /* Hati-hati kecil */
      for (let i = 0; i < 30; i++) {
        const mini = document.createElement('div');
        mini.className = 'falling-heart';
        mini.style.left = Math.random() * 100 + 'vw';
        mini.style.top = '-30px';
        mini.style.animationDuration = (Math.random() * 3 + 2) + 's';
        mini.style.background = getRandomColor();
        mini.style.setProperty('--mini-color', mini.style.background);
        document.body.appendChild(mini);
        setTimeout(() => mini.remove(), 6000);
      }

      /* Teks */
      const text = document.getElementById('instruction-text');
      if (!firstClickDone) {
        firstClickDone = true;
        text.classList.add('hide');
        setTimeout(() => {
          text.textContent = 'HAPPY BIRTHDAY üíñ';
          text.classList.remove('hide');
        }, 500);
      } else {
        text.textContent = 'HAPPY BIRTHDAY üíñ';
        text.classList.remove('hide');
      }

      if (hideTimeout) clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => text.classList.add('hide'), 3000);
    }

    function getRandomColor() {
      const colors = ['#ff4f81', '#ff6f91', '#ff85a2', '#ff99b3'];
      return colors[Math.floor(Math.random() * colors.length)];
    }
  </script>
</body>
</html>
